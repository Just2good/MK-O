<?xml version="1.0" encoding="utf-8"?>
	
<ms2>

	<state name="대기">
		<onEnter>
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="0" arg3="0" arg4="0" arg5="0" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="1" arg3="0" arg4="0" arg5="0" />
		</onEnter>
		<condition name="UserValue" key="Start" value="1" >
			<transition state="시작"/>	
		</condition>
	</state>
	
	<state name="시작">
		<onEnter>
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="CheckNpcHp" compare="lowerEqual" value="70" spawnPointId="191" isRelative="true" >
			<transition state="격리조치_1_준비"/>
		</condition>
	</state>

	<state name="격리조치_1_준비">
		<onEnter>
			<action name="이벤트UI를설정한다" arg1="1" arg2="첫번째 격리조치가 시작됩니다." arg3="5000" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_1"/>
		</condition>
	</state>

	<state name="격리조치_1">
		<onEnter>
			<action name="무작위유저를이동시킨다" arg1="02020112" arg2="6" arg3="932" arg4="1" />
			<action name="타이머를설정한다" arg1="1" arg2="30" arg3="" arg4="1" />
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="1" arg3="0" arg4="0" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="0" arg3="0" arg4="0" arg5="3" />
			<action name="몬스터를생성한다" arg1="181" arg2="0" />
			<action name="몬스터를생성한다" arg1="182" arg2="0" />
			<action name="몬스터를생성한다" arg1="183" arg2="0" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="몬스터가죽어있으면" arg1="181,182,183">
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="941" />
			<transition state="격리조치_1_마감"/>
		</condition>
		<condition name="시간이경과했으면" arg1="1" >
			<action name="몬스터소멸시킨다" arg1="181,182,183" />
			<transition state="격리조치_1_마감"/>
		</condition>
	</state>

	<state name="격리조치_1_마감">
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_2_대기"/>
		</condition>
	</state>

	<state name="격리조치_2_대기">
		<onEnter>
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="0" arg3="0" arg4="30" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="1" arg3="0" arg4="0" arg5="3" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="CheckNpcHp" compare="lowerEqual" value="45" spawnPointId="191" isRelative="true" >
			<transition state="격리조치_2_준비"/>
		</condition>
	</state>

	<state name="격리조치_2_준비">
		<onEnter>
			<action name="이벤트UI를설정한다" arg1="1" arg2="두번째 격리조치가 시작됩니다." arg3="5000" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_2"/>
		</condition>
	</state>

	<state name="격리조치_2">
		<onEnter>
			<action name="무작위유저를이동시킨다" arg1="02020112" arg2="6" arg3="932" arg4="1" />
			<action name="타이머를설정한다" arg1="2" arg2="30" arg3="" arg4="1" />
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="1" arg3="0" arg4="0" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="0" arg3="0" arg4="0" arg5="3" />
			<action name="몬스터를생성한다" arg1="181" arg2="0" />
			<action name="몬스터를생성한다" arg1="182" arg2="0" />
			<action name="몬스터를생성한다" arg1="183" arg2="0" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="몬스터가죽어있으면" arg1="181,182,183">
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="941" />
			<transition state="격리조치_2_마감"/>
		</condition>
		<condition name="시간이경과했으면" arg1="2" >
			<action name="몬스터소멸시킨다" arg1="181,182,183" />
			<transition state="격리조치_2_마감"/>
		</condition>
	</state>

	<state name="격리조치_2_마감">
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_3_대기"/>
		</condition>
	</state>

	<state name="격리조치_3_대기">
		<onEnter>
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="0" arg3="0" arg4="30" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="1" arg3="0" arg4="0" arg5="3" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="CheckNpcHp" compare="lowerEqual" value="20" spawnPointId="191" isRelative="true" >
			<transition state="격리조치_3_준비"/>
		</condition>
	</state>

	<state name="격리조치_3_준비">
		<onEnter>
			<action name="이벤트UI를설정한다" arg1="1" arg2="세번째 격리조치가 시작됩니다." arg3="5000" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_3"/>
		</condition>
	</state>

	<state name="격리조치_3">
		<onEnter>
			<action name="무작위유저를이동시킨다" arg1="02020112" arg2="6" arg3="932" arg4="1" />
			<action name="타이머를설정한다" arg1="2" arg2="30" arg3="" arg4="1" />
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="1" arg3="0" arg4="0" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="0" arg3="0" arg4="0" arg5="3" />
			<action name="몬스터를생성한다" arg1="181" arg2="0" />
			<action name="몬스터를생성한다" arg1="182" arg2="0" />
			<action name="몬스터를생성한다" arg1="183" arg2="0" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="몬스터가죽어있으면" arg1="181,182,183">
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="941" />
			<transition state="격리조치_3_마감"/>
		</condition>
		<condition name="시간이경과했으면" arg1="2" >
			<action name="몬스터소멸시킨다" arg1="181,182,183" />
			<transition state="격리조치_3_마감"/>
		</condition>
	</state>

	<state name="격리조치_3_마감">
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
		<condition name="WaitTick" waitTick="3000">
			<transition state="격리조치_3_마감"/>
		</condition>
	</state>

	<state name="종료대기">
		<onEnter>
			<action name="메쉬를설정한다" arg1="1701-1727" arg2="0" arg3="0" arg4="0" arg5="3" />
			<action name="메쉬를설정한다" arg1="1801-1818" arg2="1" arg3="0" arg4="0" arg5="3" />
		</onEnter>
		<condition name="UserValue" key="Start" value="2" >
			<transition state="종료"/>	
		</condition>
	</state>

	<state name="종료">
		<onEnter>
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="941" />
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="942" />
			<action name="유저를이동시킨다" arg1="02020112" arg2="5" arg3="943" />
		</onEnter>
	</state>

</ms2>

